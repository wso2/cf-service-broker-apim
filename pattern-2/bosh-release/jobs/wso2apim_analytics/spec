---
name: wso2apim_analytics
templates:
  ctl.erb: bin/ctl
  config/deployment.yaml: config/deployment.yaml
  resources/security/client-truststore.jks: resources/security/client-truststore.jks
  resources/security/wso2carbon.jks: resources/security/wso2carbon.jks

packages:
- openjdk
- jdbcdrivers
- wso2apim_analytics
- common

provides:
- name: apim-analytics
  type: analytics-node
  properties:
  - route_registrar.routes

properties:
  wso2apim_analytics.memory.min_heap:
    description: "Min Heap in MB"
    default: 2048
  wso2apim_analytics.memory.max_heap:
    description: "Max Heap in MB"
    default: 2048
  wso2apim_analytics.memory.max_permgen:
    description: "Max permgen in MB"
    default: 1024

  wso2apim_analytics.password:
    description: wso2apim password
  wso2apim_analytics.username:
    description: wso2apim username
  wso2apim_analytics.address:
    description: wso2apim address

  wso2apim.sp_cluster_db.jdbc_url:
    description: WSO2 APIM Analytics database JDBC URL
  wso2apim.sp_cluster_db.driver:
    description: WSO2 APIM Analytics database database driver name
  wso2apim.sp_cluster_db.query:
    description: WSO2 APIM Analytics database database validation query
  wso2apim.sp_cluster_db.username:
    description: WSO2 APIM Analytics database username
  wso2apim.sp_cluster_db.password:
    description: WSO2 APIM Analytics database password

  wso2apim.persistence_db.jdbc_url:
    description: WSO2 APIM persistence database JDBC URL
  wso2apim.persistence_db.driver:
    description: WSO2 APIM persistence database database driver name
  wso2apim.persistence_db.query:
    description: WSO2 APIM persistence database database validation query
  wso2apim.persistence_db.username:
    description: WSO2 APIM persistence database username
  wso2apim.persistence_db.password:
    description: WSO2 APIM persistence database password

  route_registrar.routes:
    description: routes registered for WSO2 APIM apps and gateway
